(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2473,8746,6228,7087,9018,5744,5647,6360],{57070:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return p}});var n=r(89426),o=r(82269),c=r(40778),i=r(56963),l=r(44462),s=r(44093),a=r(52322);let u=["currentTrack","currentModuleId","currentContentItem","isAnonymous"];function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var p=!0;t.default=e=>{let{currentTrack:t,currentModuleId:r,currentContentItem:n,isAnonymous:d}=e,p=(0,o.Z)(e,u);return(0,a.jsx)(s.ck,{children:(0,a.jsx)(c.I,f(f({},p),{},{children:d?(0,a.jsx)(i.o,{}):(0,a.jsx)(l.oP,{currentTrack:t,currentContentItem:n,currentModuleId:r})}))})}},44462:function(e,t,r){"use strict";r.d(t,{oP:function(){return X}});var n=r(44093),o=r(35223),c=r(33412),i=r(46238),l=r(67821),s=r(42107),a=r(86672),u=r(75793),d=r(20309),f=r(2784),p=r(56580),O=r(83571),h=r(58765),j=r(57370),y=r.n(j),b=r(34406);(0,h.pz)()&&b.env.MONOLITH_GRAPHQL_URL,(0,h.pz)()&&b.env.GRAPHQL_GATEWAY_URL,(0,h.pz)()&&b.env.MONOLITH_URL,(0,h.pz)()&&b.env.EVENTS_TRACKING_URL;let g=e=>"/courses/".concat(e),v=(e,t,r,n,o)=>{let c="".concat(g(e),"/").concat(t,"/").concat(r),i="".concat(c,"/").concat(n?"exercises/".concat(n):""),l="";return o&&(l=Object.keys(o).reduce((e,t)=>o[t]?"".concat(e.length>0?e+"&":"?").concat(t,"=").concat(o[t]):e,"")),i+l},w=e=>"/learn/".concat(e),m=e=>"/learn/ext-courses/".concat(e),P=e=>{let{trackSlug:t,contentItemSlug:r,contentItemType:n,exerciseSlug:o}=e,c="/courses/".concat(t);if(!r||!n)return c;if(o)return"".concat(c,"/lessons/").concat(r,"/exercises/").concat(o);let i=(0,O.kF)(y()(n));return"".concat(c,"/").concat(i,"/").concat(r)};var _=r(27221),S=r(61547),E=r(70587),I=r(8159),T=r(727),k=r(56963),x=r(14079),N=r(67400),C=r(5632),D=r(52322);function R(e){let{hasCourseContentItemAccess:t,currentContentItem:r,currentTrack:n}=e,{push:o,query:c}=(0,C.useRouter)(),i=(0,p.useSelector)(T.M0),l=(0,p.useSelector)(I._I),s=(0,f.useCallback)(e=>{r.type&&o(v(n.slug,E.S2[r.type].pluralType,r.slug,e,{autolinks:null==c?void 0:c.autolinks}),void 0,{shallow:!0})},[n.slug,r.type,r.slug,null==c?void 0:c.autolinks,o]);return t||l?(0,D.jsx)(N.M,{navigateToExercise:s,children:(0,D.jsx)(_.Z,{currentContentItem:r,trackVisit:()=>(0,S.Fs)(i)})}):"lesson"===r.type?(0,D.jsx)(x.fJ,{contentItemSlug:r.slug,isFreeTrack:!1,hideSignUp:!0}):(0,D.jsx)(k.o,{})}var A=r(89426),M=r(87677),L=r(10507),z=r(88558),U=r(48339),G=r(8911),V=r(46854),K=r(28915);function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach(function(t){(0,A.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let q=(e,t,r,n,o)=>{let c=(0,p.useDispatch)(),{loading:i,experimentAssignment:s}=(0,z.Z)(K.p.OptimizingProInterstitials,!r);(0,f.useEffect)(()=>{i||void 0===s||c((0,L.ve)({[K.p.OptimizingProInterstitials]:s}))},[c,i,s]);let a="variant"===s,u=(0,p.useSelector)(I.o0),d=(0,f.useCallback)(async()=>{let r;let i=t?"NextProContentModal":"ValuePropModal";r=u&&!t&&n&&!o?"UpsellModuleModal":a?i:"ProExclusiveCourseInterstitial",c((0,l.K4)({type:r,returnPath:e}))},[t,u,n,o,a,c,e]);(0,f.useEffect)(()=>{r&&(!t||!a||r)&&(r||!a)||i||d()},[r,t,a,d,i])},F={},B=e=>{let{items:{next:t,nextFree:r},nextAndPreviousLoading:o}=(0,n.$v)(),{progress:c}=e,{itemsTotal:i,itemsCompleted:l}=c||{itemsCompleted:NaN,itemsTotal:NaN},s=l>=i-1,a=!(null!=t&&t.contentItem)&&!(null!=r&&r.contentItem);return(0,f.useMemo)(()=>o?F:a&&s?{[V.t4.CONTAINER_COMPLETION]:!0}:F,[a,s,o])},W=(e,t,r)=>{var n,o;let c=(0,p.useSelector)(s.z_),i=(0,M.L)(t,c),l=B(e),a=null===(n=e.module_ids)||void 0===n?void 0:n.length,u=null===(o=e.module_ids)||void 0===o?void 0:o.indexOf(r);return(0,f.useMemo)(()=>{let e=H(H({},i),l);return(0,G.I)(a,u)&&(e[V.t4.CSAT_START_SURVEY]=!0),(0,U.W)(a,u)&&(e[V.t4.CSAT_MID_SURVEY]=!0),e},[i,l,a,u])};function X(e){let{currentTrack:t,currentContentItem:r,currentModuleId:O}=e,h=(0,d.P)(r),j=(0,p.useDispatch)(),{showMobileWarningWall:y,showMobileIntroModal:b}=(0,u.O)((null==r?void 0:r.type)||void 0),g=w(t.slug),v=(0,p.useSelector)(s.y8),m=(0,p.useSelector)(s.EV),{showNextContentInterstitials:P}=(0,f.useContext)(n.xV);(0,f.useEffect)(()=>{let e={track_id:t.id,content_item_id:r.id,module_id:O};if(e){var n;(n=window).dataLayer||(n.dataLayer=[]),window.dataLayer.push({event:"content_id_loaded",content_id:(0,a.I)(e)})}},[r.id,O,t.id]),(0,f.useEffect)(()=>{j((0,i.Ip)(O))},[O,j]),(0,f.useEffect)(()=>{y&&j((0,l.K4)({type:"MobileWarningWall",returnPath:g})),b&&j((0,l.K4)({type:"MobileIntroModal",returnPath:g}))},[j,g,y,b]);let _=(0,p.useSelector)(s.HI)||m;q(g,(0,p.useSelector)(s.Yn)||m,_,!!(0,p.useSelector)(s.JG),(0,p.useSelector)(s.vm));let S=W(t,r,O),E=f.useMemo(()=>null!=v&&v.title?"".concat(null==v?void 0:v.title," | ").concat(r.title||""):r.title||"",[v,r]);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(o.V,{title:E}),P?(0,D.jsx)(c.e,{currentContentItem:h,interstitialsToMerge:S}):(0,D.jsx)(R,{hasCourseContentItemAccess:_,currentContentItem:h,currentTrack:t})]})}var Y=r(99724),J=r(49833),Q=r(11993),$=r(47004),ee=r(17979),et=r(53675);let er=et.Dry;var en=r(45455),eo=r.n(en);function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach(function(t){(0,A.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}(0,Q.z)(async(e,t)=>{let{client:r,userSession:n,pageProps:o}=t,{params:c,query:{extCourseSlug:i}}=e;if(!c)return{notFound:!0};let l=e.req.cookies.cc_jwt||(null==n?void 0:n.jwt),{isSkillsoftUser:s}=o.reduxData.currentUser;if(s)return{redirect:{destination:"/",permanent:!1}};let a=m(i);if(!n)return{redirect:{destination:a,permanent:!1}};let{isAnonymous:u}=n.roles;try{let{data:{externalCourse:e}}=await r.query({query:er,context:ei({service:Y.Hj.GraphqlGateway},l&&{headers:{Authorization:"Bearer ".concat(l)}}),variables:{slug:i}});if(eo()(e))return{notFound:!0};let t=await (0,ee.u9)(n.id,e.url);return"none"!==e.enrollmentStatus||u||await (0,$.Qj)(e.id,{"X-Auth-Token":n.authentication_token}),u||await (0,ee.Hw)(n.id,e.id,"EXTERNAL_COURSE"),{props:ei(ei({},o),{},{isAnonymous:n.roles.isAnonymous,launchUrl:t,externalCourse:e})}}catch(e){return(0,J.H)(e),{redirect:{destination:a,permanent:!1}}}});let el=et.TR0;(0,Q.z)(async(e,t)=>{var r,n,o;let{client:c,pageProps:i,userSession:l}=t,{params:s}=e;if(!s)return{notFound:!0};let a=e.req.cookies.cc_jwt||(null==l?void 0:l.jwt),{courseSlug:u,contentItemType:d,contentItemSlug:f}=s,p=g(u),{reduxData:{currentUser:{id:O,roles:{isAnonymous:h,isPro:j}}}}=i,{data:{track:y},errors:b}=await c.query({query:el,context:{service:Y.Hj.GraphqlGateway,headers:{Authorization:"Bearer ".concat(a)}},variables:{slug:u,userId:l?l.id:O,isAnon:!a||h,includeProContent:!!j}});if(!y)return(0,J.H)("There was an error fetching a resume location for this track with slug ".concat(u),b),{redirect:{destination:p,permanent:!1}};let v=(null==y||null===(r=y.trackResumeLocation)||void 0===r?void 0:r.contentItem)||(null==y||null===(n=y.contentModules)||void 0===n?void 0:n[0].contentItems[0]),w=null==v?void 0:v.slug,m=null!==f,_=w===f,S=null==y||null===(o=y.trackResumeLocation)||void 0===o||null===(o=o.exercise)||void 0===o?void 0:o.slug;return{redirect:{destination:P({trackSlug:u,contentItemSlug:f||(null==v?void 0:v.slug),contentItemType:d||(null==v?void 0:v.type),exerciseSlug:_||!m?S:void 0})||p,permanent:!1}}})},17979:function(e,t,r){"use strict";r.d(t,{Hw:function(){return p},u9:function(){return f}});var n=r(89426),o=r(7321),c=r(34406);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let s="".concat(c.env.SKS_CONTENT_INTEGRATION_SERVICE_URL,"/organizations/").concat(c.env.SKS_CONTENT_INTEGRATION_CONSUMER_ORG_ID,"/content-token?"),a="".concat(c.env.SKS_CONTENT_INTEGRATION_SERVICE_URL,"/tincan/launch?"),u={Authorization:"Bearer ".concat(c.env.SKS_CONTENT_INTEGRATION_SERVICE_TOKEN),"x-author-service-accountid":"".concat(c.env.SKS_CONTENT_INTEGRATION_SERVICE_ACCOUNT_ID)},d=(e,t)=>({activity_id:t,actor:JSON.stringify({objectType:"Agent",account:{homePage:"https://codecademy.com/",name:e}})}),f=async(e,t)=>{let r=d(e,t),n=new URLSearchParams(r),o=await fetch(s+n,{headers:u}),c=await o.json();return a+new URLSearchParams(l(l({},r),{},{content_token:c.contentToken}))},p=(e,t,r)=>{let n={Authorization:"Basic ".concat(c.env.SKS_TRACKING_TOKEN)};return(0,o.y)({method:"POST",endpoint:"/progress/external_courses",data:{codecademyUserId:e,contentType:r,contentUuid:t,time:Date.now(),userAction:"PROGRESSED"},headers:n}).then((0,o._)({errorMessage:"Failed to update progress for ".concat(r,": ").concat(t),logAndSwallowErrors:!0}))}},37654:function(e,t,r){"use strict";r.d(t,{U:function(){return f}});var n=r(89426),o=r(82269),c=r(2784),i=r(86942),l=r(60566),s=r(52322);let a=["title","titleId","size","height","width"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=c.forwardRef((e,t)=>{let{title:r,titleId:n,size:c=16,height:u=c,width:f=c}=e,p=(0,o.Z)(e,a),O=(0,l.X)("CommentsIcon");return(0,s.jsxs)(i.n,d(d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",role:"img","aria-hidden":"true","pointer-events":"none",width:f,height:u,ref:t,"aria-labelledby":n},p),{},{children:[r?(0,s.jsx)("title",{id:n,children:r}):null,(0,s.jsx)("mask",{id:"".concat(O),children:(0,s.jsx)("path",{d:"M21.75 18.75h-10.5l-6 4.5v-4.5h-3a1.5 1.5 0 01-1.5-1.5v-15a1.5 1.5 0 011.5-1.5h19.5a1.5 1.5 0 011.5 1.5v15a1.5 1.5 0 01-1.5 1.5zM5.25 7.5h13.5M5.25 12h10.5",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})}),(0,s.jsx)("g",{mask:"url(#".concat(O,")"),children:(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"currentColor"})})]}))})},28746:function(e,t,r){"use strict";r.d(t,{a:function(){return f}});var n=r(89426),o=r(82269),c=r(2784),i=r(86942),l=r(60566),s=r(52322);let a=["title","titleId","size","height","width"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=c.forwardRef((e,t)=>{let{title:r,titleId:n,size:c=16,height:u=c,width:f=c}=e,p=(0,o.Z)(e,a),O=(0,l.X)("FileIcon");return(0,s.jsxs)(i.n,d(d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",role:"img","aria-hidden":"true","pointer-events":"none",width:f,height:u,ref:t,"aria-labelledby":n},p),{},{children:[r?(0,s.jsx)("title",{id:n,children:r}):null,(0,s.jsx)("mask",{id:"".concat(O),children:(0,s.jsx)("path",{d:"M22.5 21.75a1.5 1.5 0 01-1.5 1.5H3a1.5 1.5 0 01-1.5-1.5V2.25A1.5 1.5 0 013 .75h15.045a1.5 1.5 0 011.048.426l2.954 2.883a1.5 1.5 0 01.453 1.074zM6.045 8.25h12m-12 4.5h12m-12 4.5h6",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})}),(0,s.jsx)("g",{mask:"url(#".concat(O,")"),children:(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"currentColor"})})]}))})},60378:function(e,t,r){"use strict";r.d(t,{b:function(){return f}});var n=r(89426),o=r(82269),c=r(2784),i=r(86942),l=r(60566),s=r(52322);let a=["title","titleId","size","height","width"];function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let f=c.forwardRef((e,t)=>{let{title:r,titleId:n,size:c=16,height:u=c,width:f=c}=e,p=(0,o.Z)(e,a),O=(0,l.X)("NarrativeIcon");return(0,s.jsxs)(i.n,d(d({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"#fff",role:"img","aria-hidden":"true","pointer-events":"none",width:f,height:u,ref:t,"aria-labelledby":n},p),{},{children:[r?(0,s.jsx)("title",{id:n,children:r}):null,(0,s.jsx)("mask",{id:"".concat(O),children:(0,s.jsx)("path",{d:"M11.458 21.269a1.6 1.6 0 001.085 0 13.66 13.66 0 018.7-.448 1.607 1.607 0 002.006-1.559V4.928a1.607 1.607 0 00-1.12-1.528 13.878 13.878 0 00-9.586.2 1.61 1.61 0 01-1.085 0 13.881 13.881 0 00-9.587-.2A1.607 1.607 0 00.75 4.928v14.334a1.607 1.607 0 002.006 1.559 13.663 13.663 0 018.702.448zM12 3.682v17.682",fill:"none",stroke:"#fff",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5})}),(0,s.jsx)("g",{mask:"url(#".concat(O,")"),children:(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"currentColor"})})]}))})},76821:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses/[courseSlug]/[contentItemType]/[contentItemSlug]",function(){return r(57070)}])}},function(e){e.O(0,[7040,6136,905,2756,1195,7708,7382,2903,1359,1564,7067,5586,1362,627,6024,958,1725,3501,2178,7646,7384,1999,1527,6989,3912,4079,2888,9774,179],function(){return e(e.s=76821)}),_N_E=e.O()}]);
//# sourceMappingURL=[contentItemSlug]-ceff6b7273a08a22.js.map